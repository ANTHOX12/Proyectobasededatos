{% extends "base.html" %}

{% block title %}Hoja de Vida{% endblock %}

{% block content %}

{% if perfil %}
  <h1 style="margin:0 0 6px 0;">{{ perfil.nombres }} {{ perfil.apellidos }}</h1>

  {% if perfil.descripcion_de_perfil %}
    <p><strong>Perfil:</strong> {{ perfil.descripcion_de_perfil }}</p>
  {% endif %}

  <hr>

  <h2>Datos personales</h2>
  <ul>
    <li><strong>Nacionalidad:</strong> {{ perfil.nacionalidad }}</li>
    <li><strong>Lugar de nacimiento:</strong> {{ perfil.lugar_de_nacimiento }}</li>
    <li><strong>Fecha de nacimiento:</strong> {{ perfil.fechana_de_nacimiento }}</li>
    <li><strong>Cédula:</strong> {{ perfil.numero_de_cedula }}</li>
    <li><strong>Sexo:</strong> {{ perfil.get_sexo_display }}</li>
    <li><strong>Estado civil:</strong> {{ perfil.estado_civil }}</li>
    <li><strong>Licencia:</strong> {{ perfil.licencia_de_conducir }}</li>
  </ul>

  <h3>Contacto</h3>
  <ul>
    <li><strong>Teléfono convencional:</strong> {{ perfil.telefono_convencional }}</li>
    <li><strong>Teléfono fijo:</strong> {{ perfil.telefono_fijo }}</li>
    <li><strong>Dirección domiciliaria:</strong> {{ perfil.direccion_domiciliaria }}</li>
    <li><strong>Dirección de trabajo:</strong> {{ perfil.direccion_de_trabajo }}</li>
    {% if perfil.sitioweb %}<li><strong>Sitio web:</strong> {{ perfil.sitioweb }}</li>{% endif %}
  </ul>

  <hr>

  <h2>Experiencia laboral</h2>
  {% for exp in experiencias %}
    <div style="margin-bottom: 12px;">
      <h3 style="margin:0;">{{ exp.cargo_desempenado }}</h3>
      <div><strong>Empresa:</strong> {{ exp.nombre_de_la_empresa }}</div>
      <div><strong>Periodo:</strong> {{ exp.fecha_de_inicio_de_gestion }} - {{ exp.fecha_fin_de_gestion }}</div>
      {% if exp.descripcion_de_funciones %}
        <p style="margin:6px 0 0 0;">{{ exp.descripcion_de_funciones }}</p>
      {% endif %}
    </div>
  {% empty %}
    <p>No hay experiencia marcada para mostrar.</p>
  {% endfor %}

  <hr>

  <h2>Cursos realizados</h2>
  {% for curso in cursos %}
    <div style="margin-bottom: 12px;">
      <h3 style="margin:0;">{{ curso.nombrecurso }}</h3>
      {% if curso.descripcion_curso %}<p style="margin:6px 0 0 0;">{{ curso.descripcion_curso }}</p>{% endif %}
      <div><strong>Horas:</strong> {{ curso.total_horas }}</div>
      <div><strong>Periodo:</strong> {{ curso.fecha_inicio }} - {{ curso.fecha_fin }}</div>
      {% if curso.entidad_patrocinadora %}<div><strong>Entidad:</strong> {{ curso.entidad_patrocinadora }}</div>{% endif %}
    </div>
  {% empty %}
    <p>No hay cursos marcados para mostrar.</p>
  {% endfor %}

  <hr>

  <h2>Reconocimientos</h2>
  {% for rec in reconocimientos %}
    <div style="margin-bottom: 12px;">
      <h3 style="margin:0;">{{ rec.tipo_reconocimiento }}</h3>
      {% if rec.descripcion_reconocimiento %}<p style="margin:6px 0 0 0;">{{ rec.descripcion_reconocimiento }}</p>{% endif %}
      <div><strong>Fecha:</strong> {{ rec.fecha_reconocimiento }}</div>
      {% if rec.entidad_patrocinadora %}<div><strong>Entidad:</strong> {{ rec.entidad_patrocinadora }}</div>{% endif %}
    </div>
  {% empty %}
    <p>No hay reconocimientos marcados para mostrar.</p>
  {% endfor %}

  <hr>

  <h2>Productos académicos</h2>
  {% for prod in productos %}
    <div style="margin-bottom: 12px;">
      <h3 style="margin:0;">{{ prod.nombrerecurso }}</h3>
      {% if prod.clasificador %}<div><strong>Clasificador:</strong> {{ prod.clasificador }}</div>{% endif %}
      {% if prod.descripcion %}<p style="margin:6px 0 0 0;">{{ prod.descripcion }}</p>{% endif %}
    </div>
  {% empty %}
    <p>No hay productos académicos marcados para mostrar.</p>
  {% endfor %}

{% else %}
  <h1>No hay perfil activo</h1>
  <p>Crea un registro en <strong>DatosPersonales</strong> con <code>perfil_activo = 1</code>.</p>
{% endif %}

{% endblock %}
